# 함수 호출

함수는 함수를 가리키는 식별자와 한 쌍의 소괄호인 함수 호출 연산자로 호출한다.

함수를 호출하면 현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮긴다. 이때 매개변수에 인수가 순서대로 할당되고 함수 몸체의 문들이 실행되기 시작한다.

### 매개변수와 인수

함수를 실행하기 위해 필요한 값을 함수 외부에서 함수 내부로 전달할 필요가 있는경우, 매개변수를 통해 인수를 전달한다. 인수는 함수를 호출할 때 지정하며, 개수와 타입에 제한이 없다.

```javascript
// 함수 선언문
function add(x, y) {
    return x + y;
}

// 함수 호출 인수 1, 2가 매개변수 x, y에 순서대로 할당되고 함수 몸체가 실행
add(1, 2);
```

매개변수는 함수를 정의할 때 선언하며, 함수 몸체 내부에서 변수와 동일하게 취급된다. 즉, 함수가 호출되면 함수 몸체 내에서 암묵적으로 매개변수가 생성되고 일반 변수와 마찬가지로 undefined로 초기화된 이후 인수가 순서대로 할당된다.

매개변수는 함수 몸체 내부에서만 참조할 수 있고 함수 몸체 외부에서는 참조할 수 없다. 즉, 매개변수의 스코프는 함수 내부다.

```javascript
function add(x, y) {
    return x + y;
}

add(2);
```

인수가 부족해서 인수가 할당되지 않은 매개변수의 값은 undefined.

```javascript
function add(x, y) {
    console.log(arguments);
    // Arguments(3) [2, 5, 10 callee: f, Symbol(Symbol.iterator): f]
}

add(2, 5, 10);
```

매개변수보다 인수가 더 많은 경우 초과된 인수는 무시된다. 사실 초과된 인수는 버려지는 게 아니라 모든 인수는 암묵적으로 arguments 객체 프로퍼티로 보관된다.

### 인수 확인

```javascript
function add(x, y) {
    return x + y;
}

add(2);
```

코드상으로는 어떤 타입의 인수를 전달해야 하는지, 어떤 타입의 값을 반환하는지 명확하지 않다.

**자바스크립트는 함수 매개변수와 인수의 개수가 일치하는지 확인하지 않으며, 자바스크립트는 동적 타입의 언어다. 따라서 자바스크립트 함수는 매개변수의 타입을 사전에 지정할 수 없다.**

따라서 자바스크립트의 경우 함수를 정의할 때 적절한 인수가 전달되었는지 확인할 필요가 있다.

```javascript
function add(x, y) {
    if (typeof x !== 'number' || typeof y !== 'number') {
        throw new TypeError('인수는 모두 숫자 값이여야 합니다.');
    }

    return x + y;
}

add(2); // TypeError: 인수는 모두 숫자 값이여야 합니다.
add('2', '%'); // TypeError: 인수는 모두 숫자 값이여야 합니다.
```

함수 내부에서 적절한 인수가 전달되었는지 확인하더라도 부적잘한 호출을 사전에 방지할 수 없다. 에러는 런타임에 발생하게 된다. 이 때 타입스크립트와 같은 정적 타입을 선언할 수 있는 방법을 사용하여 컴파일 시점에 부적절한 호출을 방지할 수 있게 하는 방법도 있다.

ES6에서 도입된 매개변수 기본값을 사용하면 함수 내에서 수행하던 인수 체크 및 초기화를 간소화할 수 있다.

매개변수 기본값은 매개변수에 인수를 전달하지 않았을 경우와 undefined를 전달한 경우에만 유효하다.

```javascript
function add(x = 0, y = 0) {
    return x + y;
}

add(1, 2); // 3
add(2); // 2
add(); // 0
```

### 매개변수의 최대 개수

매개변수의 최대 개수에 대해 명시적으로 제한하고 있지 않다. 그렇다면 매개변수는 최대 몇 개까지 사용하는 것이 좋을까?

함수의 매개변수는 코드를 이해하는 데 방해되는 요소이므로 이상적인 매개변수 개수는 0개이며 적을수록 좋다. 매개변수의 개수가 많다는 것은 함수가 여러 가지 일을 한다는 증거이므로 바람직하지 않다.

> 이상적인 함수는 한 가지 일만 해야 하며 가급적 작게 만들어야 한다.

따라서 매개변수는 최대 3개 이상을 넘지 않는 것을 권장하며 그 이상의 매개변수가 필요하다면 하나의 매개변수를 선언하고 객체를 인수로 전달하는 것이 유리하다.

### 반환문

함수는 return 키워드와 표현식으로 이뤄진 반환문을 사용해 실행 결과를 함수 외부로 반환할 수 있다.

```javascript
function add(x, y) {
    return;

    // 실행되지 않는다.
    console.log(x + y);
}
```

반환문은 두 가지 역할을 한다. 첫째, 반환문은 함수의 실행을 중단하고 함수 몸체를 빠져나간다. 따라서 반환문 이후에 다른 문이 존재하면 그 문은 실행되지 않고 무시된다.

```javascript
function add(x, y) {
    return;
}

console.log(add(2, 5)); // undefined;
```

둘째, 반환문은 return 키워드 뒤에 오는 표현식을 평가해 반환한다. return 키워드 뒤에 반환값으로 사용할 표현식을 명시적으로 지정하지 않으면 undefined가 반환된다.

```javascript
function add(x, y) {}

console.log(add(2, 5)); // undefined;
```

반환문은 생략할 수 있다. 이때 함수는 몸체의 마지막 문까지 실행한 후 암묵적으로 undefined를 반환한다.

<hr>
